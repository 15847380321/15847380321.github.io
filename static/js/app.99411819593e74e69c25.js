webpackJsonp([3],{"5rBl":function(t,e){},"9OaI":function(t,e){},"9hIe":function(t,e){},ArKE:function(t,e){},HVoF:function(t,e){},JdJH:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i={name:"App",data:function(){return{title:"COST RECORD ",seen:!0}},methods:{handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)}}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=a("VU/8")(i,r,!1,function(t){a("HVoF")},null,null).exports,l=a("/ocq"),o=a("bOdI"),c=a.n(o),u=a("mtWM"),d=a.n(u),p={name:"EnquityDetail",data:function(){return{radio:"",airData:[{currency:"+45KGS"},{currency:"+100KGS"},{currency:"+300KGS"},{currency:"+500KGS"},{currency:"+1000KGS"}],tableData:[{size:"20GP",quantity:"1"},{size:"40hq",quantity:"2"}],SpliceData:[{size:"LCL",quantity:""}],original:[{name:"PVG"}],destination:[c()({name:"NRT"},"name","NGO")],quoteForm:{Oringinalharbour:"",destinationharbour:"",transportType:"",importOrOutport:"",box:"",daterange:""},rules:{Oringinalharbour:[{required:!0,message:"--港口--"}],destinationharbour:[{required:!0,message:"--港口--"}],importOrOutport:[{required:!0,message:"请选择进出口"}],transportType:[{required:!0,message:"请选择运输类型"}]}}},methods:{onSubmitQuoteForm:function(t){console.log(t)},getCurrentRow:function(t,e){this.getCurrentRow=e,console.log("row")},handleCurrentChange:function(t,e,a){console.log(t,e,a,e.currentTarget)},handleEdit:function(t,e){console.log(t,e)}},computed:{isAir:function(){return"空运"!==this.quoteForm.transportType},isBoat:function(){return"海运整箱"!==this.quoteForm.transportType},isSplice:function(){return"海运拼箱"!==this.quoteForm.transportType}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"quote"},[a("h1",[t._v("报价查询")]),t._v(" "),a("el-form",{ref:"quoteForm",attrs:{model:t.quoteForm,rules:t.rules,"label-position":"left","label-width":""}},[a("el-form-item",{attrs:{label:"运输类型",prop:"transportType","label-width":"180px"}},[a("el-radio-group",{model:{value:t.quoteForm.transportType,callback:function(e){t.$set(t.quoteForm,"transportType",e)},expression:"quoteForm.transportType"}},[a("el-radio",{attrs:{value:"海运整箱",label:"海运整箱"}}),t._v(" "),a("el-radio",{attrs:{value:"海运拼箱",label:"海运拼箱"}}),t._v(" "),a("el-radio",{attrs:{value:"空运",label:"空运"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"进口/出口",prop:"importOrOutport","label-width":"180px"}},[a("el-radio-group",{model:{value:t.quoteForm.importOrOutport,callback:function(e){t.$set(t.quoteForm,"importOrOutport",e)},expression:"quoteForm.importOrOutport"}},[a("el-radio",{attrs:{value:"进口",label:"进口"}}),t._v(" "),a("el-radio",{attrs:{value:"出口",label:"出口"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"ORINGINAL 启运港",prop:"Oringinalharbour","label-width":"180px"}},[a("el-select",{staticStyle:{width:"20rem"},attrs:{filterable:"",placeholder:"--港口--"},model:{value:t.quoteForm.Oringinalharbour,callback:function(e){t.$set(t.quoteForm,"Oringinalharbour",e)},expression:"quoteForm.Oringinalharbour"}},t._l(t.original,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"DESTINATION 目的地",prop:"destinationharbour","label-width":"180px"}},[a("el-select",{staticStyle:{width:"20rem"},attrs:{filterable:"",placeholder:"--港口--"},model:{value:t.quoteForm.destinationharbour,callback:function(e){t.$set(t.quoteForm,"destinationharbour",e)},expression:"quoteForm.destinationharbour"}},t._l(t.destination,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),a("el-form-item",{staticClass:"box-type",attrs:{label:"货型",prop:"box","label-width":"90px"}},[[t.isAir?t._e():a("el-table",{staticStyle:{width:"20rem"},attrs:{data:t.airData,border:""}},[a("el-table-column",{attrs:{prop:"title",label:"空运"}},[a("el-table-column",{attrs:{prop:"currency",label:"WIGHT CLASS"}}),t._v(" "),a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{attrs:{label:e.$index},nativeOn:{change:function(a){return t.getCurrentRow(e.$index)}},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}})]}}],null,!1,3766946232)})],1)],1),t._v(" "),t.isBoat?t._e():a("el-table",{staticClass:"tb-edit",staticStyle:{width:"20rem"},attrs:{data:t.tableData,border:"","highlight-current-row":""},on:{"row-click":t.handleCurrentChange}},[a("el-table-column",{attrs:{prop:"title",label:"海运整箱"}},[a("el-table-column",{attrs:{prop:"size",label:"CNRE SIZE"}}),t._v(" "),a("el-table-column",{attrs:{prop:"quantity",label:"QTY"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},on:{change:function(a){return t.handleEdit(e.$index,e.row)}},model:{value:e.row.quantity,callback:function(a){t.$set(e.row,"quantity",a)},expression:"scope.row.quantity"}}),t._v(" "),a("span",[t._v(t._s(e.row.quantity))])]}}],null,!1,2240807718)}),t._v(" "),a("el-table-column",{attrs:{type:"selection",width:"55"},on:{click:function(e){return t.handleEdit(t.scope.$index,t.scope.row)}}})],1)],1),t._v(" "),t.isSplice?t._e():a("el-table",{staticStyle:{width:"20rem"},attrs:{data:t.SpliceData,border:""}},[a("el-table-column",{attrs:{prop:"title",label:"海运拼箱"}},[a("el-table-column",{attrs:{prop:"size",label:"CNRE SIZE"}}),t._v(" "),a("el-table-column",{attrs:{prop:"quantity",label:"QTY"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},on:{change:function(a){return t.handleEdit(e.$index,e.row)}},model:{value:e.row.quantity,callback:function(a){t.$set(e.row,"quantity",a)},expression:"scope.row.quantity"}}),t._v(" "),a("span",[t._v(t._s(e.row.quantity))])]}}],null,!1,2240807718)}),t._v(" "),a("el-table-column",{attrs:{type:"selection",width:"55"},on:{click:function(e){return t.handleEdit(t.scope.$index,t.scope.row)}}})],1)],1)]],2),t._v(" "),a("router-link",{attrs:{to:"quotelist"}},[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.onSubmitQuoteForm(t.quotenForm)}}},[t._v("查询")])],1)],1)],1)},staticRenderFns:[]};var _,v=a("VU/8")(p,m,!1,function(t){a("o8xd")},null,null).exports,h=a("fZjL"),f=a.n(h),b={name:"create",data:function(){return{htmlTitle:"PDF名称",nowTime:"",base_api_url:this.Common.base_api_url,new_date_json:{},multipleSelection:[],is_edit:!0,is_delete:!0,selection:!0,radio:!1,space_color:!0,table_columns:[{prop:"carrier",label:"CARRIER",width:"150"},{prop:"fee",label:"OCEAN FEE/AIR FREIGHT",width:"150px"},{prop:"box_class",label:"CONTAINER SIZE WIGHT CLASS",width:"200px"},{prop:"quantity",label:"QTY",width:""},{prop:"total",label:"TOTAL",width:""},{prop:"date",label:"ETD",width:""},{prop:"TRANSIT",label:"TRANSIT",width:""},{prop:"currency",label:"币种",width:""}],table_data:[]}},methods:(_={ExportSavePdf:function(){},show:function(t){console.log(t)},handlePreview:function(t){console.log("res",t)},handleRemove:function(t){console.log(t)},handleSelectionChange:function(t){this.multipleSelection=t},handleClick:function(t){console.log(t)},tableRowClassName:function(){var t=this.$refs.mytable.$el.getElementsByTagName("tbody")[0].getElementsByTagName("tr");for(var e in t)e%2==0&&(this.space_color?t[e].style.backgroundColor="#f0f9eb":t[e].style.backgroundColor="")}},c()(_,"handleSelectionChange",function(t){this.multipleSelection=t,console.log("selection:",this.multipleSelection)}),c()(_,"handleEdit",function(t,e){console.log(t,e),e.edit=!0}),c()(_,"handleDelete",function(t,e){console.log(t,e),this.table_data.splice(t,1),this.$message({message:"删除成功！",type:"success"})}),c()(_,"handleSave",function(t,e){console.log(t,e),e.edit=!1,delete this.table_data[t].add,this.$message({message:"保存成功！",type:"success"})}),c()(_,"handleAdd",function(){var t={};for(var e in this.new_date_json)"edit"===e?delete t[e]:"add"===e?delete t[e]:t[e]="";t.edit=!0,t.add=!0,this.table_data.push(t)}),c()(_,"initEditAttribute",function(){this.edit;var t=[{carrier:"海运整箱",fee:"2495",box_class:"20GP",quantity:"18",total:"1111",date:"2020-12-03",TRANSIT:"2",currency:"CNY"},{carrier:"海运整箱",fee:"4858",box_class:"40GP",quantity:"18",total:"222",date:"2020-12-02",TRANSIT:"2",currency:"CNY"},{carrier:"海运整箱",fee:"4858",box_class:"40GP",quantity:"18",total:"444",date:"2020-12-04",TRANSIT:"2",currency:"CNY"}];if(t.length>0){for(var e in t)t[e].edit=!1,this.table_data.push(t[e]);0===f()(this.new_date_json).length&&this.initAddDataJson(t[0])}console.log("this.tableData:",this.table_data)}),c()(_,"initAddDataJson",function(t){var e=t,a={};for(var s in e)a[s]="edit"===s?"true":"";a.add=!0,this.new_date_json=a}),_),mounted:function(){this.initEditAttribute(),this.$nextTick(function(){this.tableRowClassName()})},watch:{space_color:function(){this.$nextTick(function(){this.tableRowClassName()})},table_data:function(){this.$nextTick(function(){this.tableRowClassName()})}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create",attrs:{id:"pdfCentent"}},[a("h1",[t._v("报价单制作")]),t._v(" "),a("div",{staticClass:"create-box"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),a("p",[t._v("REMARK")]),t._v(" "),a("button",{attrs:{type:"info"},on:{click:function(e){return t.ExportSavePdf(t.htmlTitle,t.nowTime)}}},[t._v("打印")])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"L"},[s("div",{staticClass:"logo"},[s("img",{attrs:{src:a("ngtW")}})]),t._v(" "),s("div",{staticClass:"r"},[s("p",{staticClass:"quo"},[t._v("QUOTATION NO.")]),t._v(" "),s("div",{staticClass:"L"},[s("p",{staticClass:"pol"},[t._v("POL:")]),t._v(" "),s("input",{staticClass:"pol-input"})]),t._v(" "),s("div",{staticClass:"L"},[s("p",{staticClass:"pol"},[t._v("POD:")]),t._v(" "),s("input",{staticClass:"pol-input"})]),t._v(" "),s("div",{staticClass:"L"},[s("p",{staticClass:"quo"},[t._v("SERVICE MODE")]),t._v(" "),s("p",{staticClass:"quo"},[t._v("AIR/OCEAN")])]),t._v(" "),s("p",[t._v("QUOTE DATE")]),t._v(" "),s("div",{staticClass:"L"},[s("p",{staticClass:"quo"},[t._v("ACTIVE DATE")]),t._v(" "),s("input"),t._v(" "),s("p",{staticClass:"quo"},[t._v("EXPIRE DATE")]),t._v(" "),s("input")]),t._v(" "),s("div",{staticClass:"L"},[s("p",{staticClass:"quo"},[t._v("PRINT DATE")]),t._v(" "),s("input")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"L"},[e("p",{staticClass:"cargo"},[this._v("CARGO DETAILS")]),this._v(" "),e("div",[e("p",{staticClass:"quo"},[this._v("TRANSIT TYPE")]),this._v(" "),e("p",{staticClass:"quo"},[this._v("DOOR TO DOOR")])]),this._v(" "),e("p",{staticClass:"quo"},[this._v("FREIGHT TERM")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"L"},[a("p",{staticClass:"width-a"},[t._v("EXTRA CHARGES")]),t._v(" "),a("p",{staticClass:"lh"},[t._v("RMB")]),t._v(" "),a("p",{staticClass:"lh"},[t._v("USD")]),t._v(" "),a("p",{staticClass:"lh"},[t._v("QTY")]),t._v(" "),a("p",{staticClass:"lh"},[t._v("TOTAL")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"L"},[e("ul",{staticClass:"itemlist"},[e("li",{staticClass:"L"},[e("p",{staticClass:"width-a"},[this._v("ITEM")]),this._v(" "),e("div",{staticClass:"border1"}),this._v(" "),e("div",{staticClass:"border2"}),this._v(" "),e("p",{staticClass:"width-a"},[this._v("1")]),this._v(" "),e("p",{staticClass:"width-a"},[this._v("2")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"L"},[e("p",[this._v("TOTAL")]),this._v(" "),e("p",[this._v("USD")]),this._v(" "),e("p",[this._v("RMB")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"L"},[e("p",[this._v("自动合计")]),this._v(" "),e("p",[this._v("自动合计")])])}]};var y=a("VU/8")(b,g,!1,function(t){a("9hIe")},null,null).exports,C=a("Xxa5"),w=a.n(C),T=a("exGp"),E=a.n(T),x={name:"enquiry",data:function(){return{base_api_url:"https://baojia.widesight.cn/backend/public",countries:[],cities:[],pickerOptions:{shortcuts:[]},searchForm:{country:"",city:"",zip:"",transportType:"",importOrOutport:"",box:"",daterange:""},rules:{country:[{required:!0,message:"请选择国家"}],city:[{required:!0,message:"请选择城市"}],importOrOutport:[{required:!0,message:"请选择进出口"}],transportType:[{required:!0,message:"请选择运输类型"}]}}},computed:{isSea:function(){return"海运整箱"===this.searchForm.transportType},modifyCity:function(t){t=this.cities,console.log(t);var e=[];t.forEach(function(t){-1==e.indexOf(t)&&e.push(t)}),console.log(e),this.cities=e}},mounted:function(){var t=E()(w.a.mark(function t(){var e,a,s,i;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get(this.base_api_url+"/api/citys");case 2:for(s in e=t.sent,a={},{},e.data)a[e.data[s].country]=[];for(i in e.data)a[e.data[i].country].push(e.data[i].city);this.countries=a;case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{getCityList:function(t){this.searchForm.city="",this.cities=this.countries[this.searchForm.country]},onSubmitSearchForm:function(t){var e=this;this.msg="",this.$refs[t].validate(function(t){if(!t)return!1;try{var a=e.searchForm.country,s=e.searchForm.city,i=e.searchForm.zip,r=e.searchForm.importOrOutport,n=e.searchForm.transportType,l=e.searchForm.box,o=e.searchForm.daterange;d.a.get(e.base_api_url+"/api/inquiryform",{params:{country:a,city:s,zip:i,type_jinchukou:r,type_traffic:n,box_pile:l,time:o}}).then(function(t){console.log(t.data),e.searchForm.country=t.data.country,e.searchForm.city=t.data.city,e.searchForm.zip=t.data.zip,e.searchForm.importOrOutport=t.data.type_jinchukou,e.searchForm.transportType=t.data.type_traffic,e.searchForm.box=t.data.box_pile,e.searchForm.daterange=t.data.time,e.$router.push({name:"enquiryList",query:{list:t.data}}),e.$message({message:"提交成功",type:"success"})})}catch(t){e.$message.error("服务器错误，请稍后再试")}})}},watch:{"searchForm.country":"getCityList"}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"enquity"},[a("h1",[t._v("门店成本查询")]),t._v(" "),a("el-form",{ref:"searchForm",attrs:{model:t.searchForm,rules:t.rules,"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"国家COUNTRY",prop:"country"}},[a("el-select",{attrs:{filterable:"",placeholder:"--请选择国家--",change:t.modifyCity},model:{value:t.searchForm.country,callback:function(e){t.$set(t.searchForm,"country",e)},expression:"searchForm.country"}},t._l(t.countries,function(t,e){return a("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"城市CITY",prop:"city"}},[a("el-select",{attrs:{filterable:"",placeholder:"--请选择城市--"},model:{value:t.searchForm.city,callback:function(e){t.$set(t.searchForm,"city",e)},expression:"searchForm.city"}},t._l(t.cities,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"邮编ZIP",prop:"zip"}},[a("el-input",{staticClass:"table1-input",staticStyle:{width:"13.25rem"},attrs:{placeholder:"请输入内容"},model:{value:t.searchForm.zip,callback:function(e){t.$set(t.searchForm,"zip",e)},expression:"searchForm.zip"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"进口/出口",prop:"importOrOutport"}},[a("el-radio-group",{model:{value:t.searchForm.importOrOutport,callback:function(e){t.$set(t.searchForm,"importOrOutport",e)},expression:"searchForm.importOrOutport"}},[a("el-radio",{attrs:{value:"进口",label:"进口"}}),t._v(" "),a("el-radio",{attrs:{value:"出口",label:"出口"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"运输类型",prop:"transportType"}},[a("el-radio-group",{model:{value:t.searchForm.transportType,callback:function(e){t.$set(t.searchForm,"transportType",e)},expression:"searchForm.transportType"}},[a("el-radio",{attrs:{value:"海运整箱",label:"海运整箱"}}),t._v(" "),a("el-radio",{attrs:{value:"海运拼箱",label:"海运拼箱"}}),t._v(" "),a("el-radio",{attrs:{value:"空运",label:"空运"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"箱型",prop:"box"}},[a("el-select",{attrs:{clearable:"",placeholder:"--请选择--",disabled:!t.isSea},model:{value:t.searchForm.box,callback:function(e){t.$set(t.searchForm,"box",e)},expression:"searchForm.box"}},[a("el-option",{attrs:{value:"20"}},[t._v("20")]),t._v(" "),a("el-option",{attrs:{value:"40"}},[t._v("40")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间段"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:t.searchForm.daterange,callback:function(e){t.$set(t.searchForm,"daterange",e)},expression:"searchForm.daterange"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmitSearchForm("searchForm")}},nativeOn:{submit:function(t){t.preventDefault()}}},[t._v("查询")])],1)],1)],1)},staticRenderFns:[]};var $=a("VU/8")(x,S,!1,function(t){a("9OaI")},"data-v-17cef6ce",null).exports,F={name:"EnquiryList",data:function(){return{currentPage:1,pagesize:14,base_api_url:"https://baojia.widesight.cn/backend/public",zip:"邮编",country:"国家",city:"城市",price:"总价",type:"货物类型",imports:"进出口",date:"日期",ziplist:[],item:[]}},created:function(){this.getParams()},methods:{getParams:function(){this.routerParams=this.$route.query.list},toEnquiryDetail:function(t){var e=this;this.msg="";var a=this.ziplist[t].id,s=this.ziplist[t].type_traffic;try{d.a.get(this.base_api_url+"/api/detailedquery",{params:{type_traffic:s,id:a}}).then(function(t){console.log(t.data[0],"11"),e.$router.push({name:"enquirydetail",params:{data:t.data[0],item:t.data.item}})})}catch(t){console.log(t)}},handleCurrentChange:function(t){this.currentPage=t}},mounted:function(){this.ziplist=this.$route.query.list}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"enquirylist"},[a("p",[t._v("显示页面")]),t._v(" "),a("ul",{staticClass:"contentlist"},[a("li",[a("div",{staticClass:"table2-title table2"},[a("p",[t._v(t._s(t.zip))]),t._v(" "),a("p",[t._v(t._s(t.country))]),t._v(" "),a("p",[t._v(t._s(t.city))]),t._v(" "),a("p",[t._v(t._s(t.price))]),t._v(" "),a("p",[t._v(t._s(t.type))]),t._v(" "),a("p",[t._v(t._s(t.imports))]),t._v(" "),a("p",[t._v(t._s(t.date))])])]),t._v(" "),t._l(t.ziplist.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),function(e,s){return a("li",{key:s},[a("div",{staticClass:"table2"},[a("a",{attrs:{href:"#"},on:{click:function(e){return t.toEnquiryDetail(s)}}},[a("p",{domProps:{textContent:t._s(e.zip)}})]),t._v(" "),a("p",{domProps:{textContent:t._s(e.country)}}),t._v(" "),a("p",{domProps:{textContent:t._s(e.city)}}),t._v(" "),a("p",{domProps:{textContent:t._s(e.total_prices)}}),t._v(" "),a("p",{domProps:{textContent:t._s(e.type_traffic)}}),t._v(" "),a("p",{domProps:{textContent:t._s(e.type_jinchukou)}}),t._v(" "),a("p",{domProps:{textContent:t._s(e.service_time)}}),t._v(" "),a("p",{staticClass:"undisplay",domProps:{textContent:t._s(e.id)}})])])})],2),t._v(" "),a("el-pagination",{attrs:{"page-size":t.pagesize,"pager-count":11,layout:"prev, pager, next",total:t.ziplist.length,"current-page":t.currentPage},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)},staticRenderFns:[]};var q=a("VU/8")(F,k,!1,function(t){a("5rBl")},"data-v-8425f6de",null).exports,R={name:"EnquiryDetail",data:function(){return{base_api_url:"https://baojia.widesight.cn/backend/public",detaildata:[],item:[],country:"",city:"",address:"",zip:"",agentname:"",details_pieces:"",details_weight:"",details_volume:"",transportType:"",box:"",tableData:[{cost_breakdown:"1",currency:"",money:""},{cost_breakdown:"2",currency:"",money:""},{cost_breakdown:"3",currency:"",money:""}]}},mounted:function(){this.detaildata=this.$route.params.data,this.tableData=this.$route.params.item;this.tableData},methods:{handleEdit:function(t,e){},handleCurrentChange:function(t,e,a){},onSubmitPrint:function(){console.log("sasdad",this.tableData),this.$router.push({name:"print",params:{type_traffic:this.detaildata.type_traffic,service_time:this.detaildata.service_time,country:this.detaildata.country,city:this.detaildata.city,address:this.detaildata.address,zip:this.detaildata.zip,agentname:this.detaildata.agentname,details_pieces:this.detaildata.details_pieces,details_fur:this.detaildata.details_fur,details_volume:this.detaildata.details_volume,transportType:this.detaildata.transportType,cost_breakdown:this.tableData.cost_breakdown,currency:this.tableData.currency,money:this.tableData.money,table_data:this.tableData}})}}},O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"enquirydetail"},[a("h1",[t._v("详细页面")]),t._v(" "),a("div",{staticClass:"table3"},[a("p",{staticClass:"table3-name"},[t._v("国家COUNTRY")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detaildata.country,expression:"detaildata.country"}],domProps:{value:t.detaildata.country},on:{input:function(e){e.target.composing||t.$set(t.detaildata,"country",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"table3"},[a("p",{staticClass:"table3-name"},[t._v("城市CITY")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detaildata.city,expression:"detaildata.city"}],domProps:{value:t.detaildata.city},on:{input:function(e){e.target.composing||t.$set(t.detaildata,"city",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"table3"},[a("p",{staticClass:"table3-name"},[t._v("地址ADDRESS")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detaildata.address,expression:"detaildata.address"}],staticClass:"address_type",domProps:{value:t.detaildata.address},on:{input:function(e){e.target.composing||t.$set(t.detaildata,"address",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"table3"},[a("p",{staticClass:"table3-name"},[t._v("数据DETAILS")]),t._v(" "),a("p",{staticClass:"data-unit"},[t._v("件")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detaildata.details_pieces,expression:"detaildata.details_pieces"}],staticClass:"data-unit",domProps:{value:t.detaildata.details_pieces},on:{input:function(e){e.target.composing||t.$set(t.detaildata,"details_pieces",e.target.value)}}}),t._v(" "),a("p",{staticClass:"data-unit"},[t._v("毛")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detaildata.details_fur,expression:"detaildata.details_fur"}],staticClass:"data-unit",domProps:{value:t.detaildata.details_fur},on:{input:function(e){e.target.composing||t.$set(t.detaildata,"details_fur",e.target.value)}}}),t._v(" "),a("p",{staticClass:"data-unit"},[t._v("体")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detaildata.details_volume,expression:"detaildata.details_volume"}],staticClass:"data-unit",domProps:{value:t.detaildata.details_volume},on:{input:function(e){e.target.composing||t.$set(t.detaildata,"details_volume",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"table3"},[a("p",{staticClass:"table3-name"},[t._v("邮编ZIP")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detaildata.zip,expression:"detaildata.zip"}],domProps:{value:t.detaildata.zip},on:{input:function(e){e.target.composing||t.$set(t.detaildata,"zip",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"table3"},[a("p",{staticClass:"table3-name"},[t._v("代理名字")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detaildata.agentname,expression:"detaildata.agentname"}],domProps:{value:t.detaildata.agentname},on:{input:function(e){e.target.composing||t.$set(t.detaildata,"agentname",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"table3"},[a("p",{staticClass:"table3-name"},[t._v("类型")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.detaildata.type_traffic,expression:"detaildata.type_traffic"}],staticClass:"table3-name",domProps:{value:t.detaildata.type_traffic},on:{input:function(e){e.target.composing||t.$set(t.detaildata,"type_traffic",e.target.value)}}}),t._v(" "),a("p",{staticClass:"table3-name"},[t._v(t._s(t.box))])]),t._v(" "),a("br"),t._v(" "),a("div",{},[a("el-table",{staticClass:"tb-edit",staticStyle:{width:"35rem"},attrs:{data:t.tableData,height:"250",border:"","highlight-current-row":""},on:{"row-click":t.handleCurrentChange}},[a("el-table-column",{attrs:{prop:"cost_breakdown",label:"费用明细(英-中)",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},on:{change:function(a){return t.handleEdit(e.$index,e.row)}},model:{value:e.row.cost_breakdown,callback:function(a){t.$set(e.row,"cost_breakdown",a)},expression:"scope.row.cost_breakdown"}}),t._v(" "),a("span",[t._v(t._s(e.row.cost_breakdown))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"currency",label:"币种",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},on:{change:function(a){return t.handleEdit(e.$index,e.row)}},model:{value:e.row.currency,callback:function(a){t.$set(e.row,"currency",a)},expression:"scope.row.currency"}}),t._v(" "),a("span",[t._v(t._s(e.row.currency))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"money",label:"金额"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},on:{change:function(a){return t.handleEdit(e.$index,e.row)}},model:{value:e.row.money,callback:function(a){t.$set(e.row,"money",a)},expression:"scope.row.money"}}),t._v(" "),a("span",[t._v(t._s(e.row.money))])]}}])})],1)],1),t._v(" "),a("div",[a("p",[t._v("服务时间:")]),t._v(" "),a("p",[t._v(t._s(t.detaildata.service_time))])]),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:t.onSubmitPrint}},[t._v("打印")])],1)},staticRenderFns:[]};var D=a("VU/8")(R,O,!1,function(t){a("JdJH")},null,null).exports,A={name:"create",data:function(){return{base_api_url:this.Common.base_api_url,new_date_json:{},multipleSelection:[],is_edit:!0,is_delete:!0,selection:!0,radio:!1,space_color:!0,table_columns:[{prop:"carrier",label:"CARRIER",width:"150"},{prop:"fee",label:"AIR FREIGHT",width:"150px"},{prop:"box_class",label:"WIGHT CLASS",width:"200px"},{prop:"quantity",label:"QTY",width:""},{prop:"total",label:"TOTAL",width:""},{prop:"date",label:"ETD",width:""},{prop:"TRANSIT",label:"TRANSIT",width:""},{prop:"currency",label:"币种",width:""}],table_data:[]}},methods:{tableRowClassName:function(){var t=this.$refs.mytable.$el.getElementsByTagName("tbody")[0].getElementsByTagName("tr");for(var e in t)e%2==0&&(this.space_color?t[e].style.backgroundColor="#f0f9eb":t[e].style.backgroundColor="")},handleSelectionChange:function(t){this.multipleSelection=t,console.log("selection:",this.multipleSelection)},handleEdit:function(t,e){console.log(t,e),e.edit=!0},handleDelete:function(t,e){console.log(t,e),this.table_data.splice(t,1),this.$message({message:"删除成功！",type:"success"})},handleSave:function(t,e){console.log(t,e),e.edit=!1,delete this.table_data[t].add,this.$message({message:"保存成功！",type:"success"})},handleAdd:function(){var t={};for(var e in this.new_date_json)"edit"===e?delete t[e]:"add"===e?delete t[e]:t[e]="";t.edit=!0,t.add=!0,this.table_data.push(t)},initEditAttribute:function(){this.edit;var t=[{carrier:"海运整箱",fee:"2495",box_class:"20GP",quantity:"18",total:"1111",date:"2020-12-03",TRANSIT:"2",currency:"CNY"},{carrier:"海运整箱",fee:"4858",box_class:"40GP",quantity:"18",total:"222",date:"2020-12-02",TRANSIT:"2",currency:"CNY"},{carrier:"海运整箱",fee:"4858",box_class:"40GP",quantity:"18",total:"444",date:"2020-12-04",TRANSIT:"2",currency:"CNY"}];if(t.length>0){for(var e in t)t[e].edit=!1,this.table_data.push(t[e]);0===f()(this.new_date_json).length&&this.initAddDataJson(t[0])}console.log("this.tableData:",this.table_data)},initAddDataJson:function(t){var e=t,a={};for(var s in e)a[s]="edit"===s?"true":"";a.add=!0,this.new_date_json=a}},mounted:function(){this.initEditAttribute(),this.$nextTick(function(){this.tableRowClassName()})},watch:{space_color:function(){this.$nextTick(function(){this.tableRowClassName()})},table_data:function(){this.$nextTick(function(){this.tableRowClassName()})}}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create"},[a("h1",[t._v("报价单制作")]),t._v(" "),a("div",{staticClass:"create-box"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.handleAdd()}}},[t._v("Add")]),t._v(" "),a("el-table",{ref:"mytable",staticStyle:{width:"100%"},attrs:{data:t.table_data},on:{"selection-change":t.handleSelectionChange}},[t.radio?a("el-table-column",{attrs:{type:"index",width:"50"}}):t._e(),t._v(" "),t.selection?a("el-table-column",{attrs:{type:"selection",width:"55"}}):t._e(),t._v(" "),t._l(t.table_columns,function(e,s,i){return a("el-table-column",{key:i,attrs:{align:"center",item:e,index:s,label:e.label},scopedSlots:t._u([{key:"default",fn:function(s){return[s.row.edit?a("el-input",{attrs:{size:"small",placeholder:"请输入"+e.label},model:{value:s.row[e.prop],callback:function(a){t.$set(s.row,e.prop,a)},expression:"scope.row[item.prop]"}}):t._e(),t._v(" "),s.row.edit?t._e():a("span",[t._v(t._s(s.row[e.prop]))])]}}],null,!0)})}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.is_edit&&void 0==e.row.add?a("div",{staticStyle:{display:"inline-block"}},[e.row.edit?t._e():a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("Edit")]),t._v(" "),e.row.edit?a("el-button",{attrs:{size:"mini",type:"success",plain:!0},on:{click:function(a){return t.handleSave(e.$index,e.row)}}},[t._v("Save")]):t._e()],1):t._e(),t._v(" "),void 0!=e.row.add&&e.row.add?a("div",{staticStyle:{display:"inline-block"}},[e.row.edit?a("el-button",{attrs:{size:"mini",type:"success",plain:!0},on:{click:function(a){return t.handleSave(e.$index,e.row)}}},[t._v("Save")]):t._e()],1):t._e(),t._v(" "),t.is_delete&&void 0==e.row.add?a("el-button",{attrs:{size:"mini",plain:!0,type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("Delete")]):t._e()]}}])})],2)],1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),a("p",[t._v("REMARK")]),t._v(" "),a("router-link",{attrs:{to:"quotelist"}},[a("el-button",{attrs:{type:"info"}},[t._v("打印")])],1)],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"L"},[s("div",{staticClass:"logo"},[s("img",{attrs:{src:a("ngtW")}})]),t._v(" "),s("div",{staticClass:"r"},[s("p",{staticClass:"quo"},[t._v("QUOTATION NO.")]),t._v(" "),s("div",{staticClass:"L"},[s("p",{staticClass:"pol"},[t._v("POL:")]),t._v(" "),s("input",{staticClass:"pol-input"})]),t._v(" "),s("div",{staticClass:"L"},[s("p",{staticClass:"pol"},[t._v("POD:")]),t._v(" "),s("input",{staticClass:"pol-input"})]),t._v(" "),s("div",{staticClass:"L"},[s("p",{staticClass:"quo"},[t._v("SERVICE MODE")]),t._v(" "),s("p",{staticClass:"quo"},[t._v("AIR/OCEAN")])]),t._v(" "),s("p",[t._v("QUOTE DATE")]),t._v(" "),s("div",{staticClass:"L"},[s("p",{staticClass:"quo"},[t._v("ACTIVE DATE")]),t._v(" "),s("input"),t._v(" "),s("p",{staticClass:"quo"},[t._v("EXPIRE DATE")]),t._v(" "),s("input")]),t._v(" "),s("div",{staticClass:"L"},[s("p",{staticClass:"quo"},[t._v("PRINT DATE")]),t._v(" "),s("input")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"L"},[e("p",{staticClass:"cargo"},[this._v("CARGO DETAILS")]),this._v(" "),e("div",[e("p",{staticClass:"quo"},[this._v("TRANSIT TYPE")]),this._v(" "),e("p",{staticClass:"quo"},[this._v("DOOR TO DOOR")])]),this._v(" "),e("p",{staticClass:"quo"},[this._v("FREIGHT TERM")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"L"},[a("p",{staticClass:"width-a"},[t._v("EXTRA CHARGES")]),t._v(" "),a("p",{staticClass:"lh"},[t._v("RMB")]),t._v(" "),a("p",{staticClass:"lh"},[t._v("USD")]),t._v(" "),a("p",{staticClass:"lh"},[t._v("QTY")]),t._v(" "),a("p",{staticClass:"lh"},[t._v("TOTAL")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"L"},[e("ul",{staticClass:"itemlist"},[e("li",{staticClass:"L"},[e("p",{staticClass:"width-a"},[this._v("ITEM")]),this._v(" "),e("div",{staticClass:"border1"}),this._v(" "),e("div",{staticClass:"border2"}),this._v(" "),e("p",{staticClass:"width-a"},[this._v("1")]),this._v(" "),e("p",{staticClass:"width-a"},[this._v("2")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"L"},[e("p",[this._v("TOTAL")]),this._v(" "),e("p",[this._v("USD")]),this._v(" "),e("p",[this._v("RMB")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"L"},[e("p",[this._v("自动合计")]),this._v(" "),e("p",[this._v("自动合计")])])}]};var N=a("VU/8")(A,P,!1,function(t){a("ArKE")},null,null).exports,I=a("eMjc"),L=a.n(I),z={name:"print",data:function(){return{isCheck:!0,base_api_url:"https://baojia.widesight.cn/backend/public",date:new Date,htmlTitle:"PDF名称",nowTime:"",printform:[{country:""}],new_date_json:{},multipleSelection:[],is_edit:!0,is_delete:!0,selection:!0,radio:!1,space_color:!0,tableData:[{details_fur:"",currency:"",amount:"",class:"1000",price:"24",weight:"1200",total:""}],itemData:[{cost_breakdown:"ITEM(中-英)",RMB:"6.5",USD:"1",money:"",qty:"2",amount:""}],table_columns:[{prop:"cost_breakdown",label:"EXTRA CHARGES",width:"150"},{prop:"currency",label:"币种",width:"150px"},{prop:"fee",label:"Fee",width:"200px"},{prop:"quantity",label:"QTY",width:""},{prop:"money",label:"TOTAL",width:""}],extra_data:[],totalData:[{USD:"",RMB:""},{USD:"",RMB:""},{USD:"",RMB:""}]}},created:function(){this.getParams()},methods:{getParams:function(){this.tableData[0].price=this.$route.params.details_volume,this.tableData[0].class=this.$route.params.details_fur,this.type_traffic=this.$route.params.type_traffic,this.zip=this.$route.params.zip,this.service_time=this.$route.params.service_time,this.city=this.$route.params.city,this.table_data=this.$route.params.table_data,console.log("aaa",this.table_data)},show:function(t){console.log(t.url)},ExportSavePdf:function(t){var e=window.document.body.innerHTML,a=document.getElementById("exportPdf").innerHTML;return window.document.body.innerHTML=a,window.print("html"),window.document.body.innerHTML=e,location.reload(),!1},dateFormat:function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())},tableRowClassName:function(){this.$refs.mytable.$el.getElementsByTagName("tbody")[0].getElementsByTagName("tr")},handleSelectionChange:function(t){this.multipleSelection=t,console.log("selection:",this.multipleSelection)},handleEdit:function(t,e){console.log(e),e.edit=!0},handleDelete:function(t,e){console.log(t,e),this.extra_data.splice(t,1),this.$message({message:"删除成功！",type:"success"})},handleSave:function(t,e){console.log(t,e),e.edit=!1,delete this.extra_data[t].add,this.$message({message:"保存成功！",type:"success"})},handleAdd:function(){var t={};for(var e in this.new_date_json)"edit"===e?delete t[e]:"add"===e?delete t[e]:t[e]="";t.edit=!0,t.add=!0,this.extra_data.push(t)},initEditAttribute:function(){console.log("this.table_data",this.table_data);this.edit;var t=[{cost_breakdown:this.table_data[0].cost_breakdown,currency:this.table_data[0].currency,money:this.table_data[0].money},{cost_breakdown:this.table_data[1].cost_breakdown,currency:this.table_data[1].currency,money:this.table_data[1].money}];if(t.length>0){for(var e in t)t[e].edit=!1,this.extra_data.push(t[e]);0===f()(this.new_date_json).length&&this.initAddDataJson(t[0])}this.extraData=this.$route.params.table_data},initAddDataJson:function(t){var e=t,a={};for(var s in e)a[s]="edit"===s?"true":"";a.add=!0,this.new_date_json=a},onSubmitHtml:function(){d.a.post(this.base_api_url+"/api/detailedquery",{params:{type_traffic:transportType,id:id}}).then(function(t){console.log("res",t.data[0])})}},beforeDestroy:function(){this.timer&&clearInterval(this.timer)},mounted:function(){this.printform.country=this.$route.params.country,this.printform.city=this.$route.params.city;var t=this;this.timer=setInterval(function(){t.date=new Date},1e3),this.initEditAttribute(),this.$nextTick(function(){this.tableRowClassName()})},watch:{space_color:function(){this.$nextTick(function(){this.tableRowClassName()})},table_data:function(){this.$nextTick(function(){this.tableRowClassName()})}}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"exportPdf",staticClass:"print",attrs:{id:"exportPdf"}},[a("div",{ref:"targetDom",staticClass:"print-item"},[a("div",{staticClass:"create-box"},[a("div",{staticClass:"top"},[t._m(0),t._v(" "),a("div",{staticClass:"right"},[t._m(1),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"L"},[a("p",{staticClass:"quo"},[t._v("POD:")]),t._v(" "),a("input",{staticClass:"input-class",domProps:{value:t.city}})]),t._v(" "),a("div",{staticClass:"L"},[a("p",{staticClass:"quo"},[t._v("SERVICE MODE")]),t._v(" "),a("p",{staticClass:"quo"},[t._v(t._s(t.type_traffic))])]),t._v(" "),t._m(3),t._v(" "),a("div",{staticClass:"L"},[a("p",{staticClass:"quo"},[t._v("ACTIVE DATE")]),t._v(" "),a("input",{staticClass:"input-class",domProps:{value:t.service_time}}),t._v(" "),a("p",{staticClass:"quo"},[t._v("EXPIRE DATE")]),t._v(" "),a("input",{staticClass:"input-class",domProps:{value:t.dateFormat(t.date)}})]),t._v(" "),a("div",{staticClass:"L"}),t._v(" "),t._m(4),t._v(" "),a("div",{staticClass:"L"},[a("p",{staticClass:"quo"},[t._v("POSTCODE")]),t._v(" "),a("input",{staticClass:"input-class",domProps:{value:t.zip}})]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),a("div",{staticClass:"L"})])]),t._v(" "),a("div",{staticClass:"buttonNoPrint",staticStyle:{"padding-bottom":"10px"}},[a("el-table",{staticStyle:{width:"98%"},attrs:{data:t.tableData,height:"250",border:""}},[a("el-table-column",{attrs:{prop:"currency",label:"CARRIER",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"AIR FREIGHT"}}),t._v(" "),a("el-table-column",{attrs:{prop:"class",label:"WEIGHT CLASS(KGS)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"Unit Price"}}),t._v(" "),a("el-table-column",{attrs:{prop:"weight",label:"WEIGHT(KGS)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"total",label:"TOTAL"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"ETD"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"TRANSIT"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"币种"}})],1)],1),t._v(" "),a("div",{staticClass:"table_data",staticStyle:{"padding-left":"3px","margin-top":"0px","padding-top":"5px"}},[a("el-table",{ref:"mytable",staticStyle:{width:"98%"},attrs:{data:t.extra_data},on:{"selection-change":t.handleSelectionChange}},[t.radio?a("el-table-column",{attrs:{type:"index",width:"50"}}):t._e(),t._v(" "),t._l(t.table_columns,function(e,s,i){return a("el-table-column",{key:i,attrs:{align:"center",item:e,index:s,label:e.label},scopedSlots:t._u([{key:"default",fn:function(s){return[s.row.edit?a("el-input",{attrs:{size:"small",placeholder:"请输入"+e.label},model:{value:s.row[e.prop],callback:function(a){t.$set(s.row,e.prop,a)},expression:"scope.row[item.prop]"}}):t._e(),t._v(" "),s.row.edit?t._e():a("span",[t._v(t._s(s.row[e.prop]))])]}}],null,!0)})}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"buttonNoPrint"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.is_edit&&void 0==e.row.add?a("div",{staticStyle:{display:"inline-block"}},[e.row.edit?t._e():a("el-button",{staticClass:"buttonNoPrint",attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("Edit")]),t._v(" "),e.row.edit?a("el-button",{attrs:{size:"mini",type:"success",plain:!0},on:{click:function(a){return t.handleSave(e.$index,e.row)}}},[t._v("Save")]):t._e()],1):t._e(),t._v(" "),void 0!=e.row.add&&e.row.add?a("div",{staticStyle:{display:"inline-block"}},[e.row.edit?a("el-button",{attrs:{size:"mini",type:"success",plain:!0},on:{click:function(a){return t.handleSave(e.$index,e.row)}}},[t._v("Save")]):t._e()],1):t._e(),t._v(" "),t.is_delete&&void 0==e.row.add?a("el-button",{staticClass:"buttonNoPrint",attrs:{size:"mini",plain:!0,type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("Delete")]):t._e()]}}])})],2),t._v(" "),a("div",{staticClass:"buttonNoPrint"},[a("el-button",{staticClass:"additem ",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.handleAdd()}}},[t._v("Add")])],1)],1),t._v(" "),a("div",{staticClass:"total_part",staticStyle:{"padding-top":"10px","padding-bottom":"10px","padding-right":"5px"}},[a("span",{staticClass:"totalData"},[t._v("TOTAL")]),t._v(" "),a("el-table",{attrs:{data:t.totalData}},[a("el-table-column",{attrs:{prop:"USD",label:"USD",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"RMB",label:"RMB",width:"180"}})],1)],1),t._v(" "),t._m(7)])]),t._v(" "),a("div",{staticClass:"buttonNoPrint bottoms"},[a("el-button",{staticClass:"pdfButton ",attrs:{type:"danger"},on:{click:function(e){return t.ExportSavePdf(t.htmlTitle,t.nowTime)}}},[t._v("导出PDF")]),t._v(" "),a("el-upload",{staticClass:"upload-demo ",attrs:{drag:"",accept:".pdf","on-success":t.show,action:"https://baojia.widesight.cn/backend/public/api/file/put",multiple:""}},[a("i",{staticClass:"el-icon-upload"}),t._v(" "),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("\n        只能上传pdf文件，且不超过500kb\n      ")])])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left"},[e("div",{staticClass:"logo",staticStyle:{"padding-left":"5px","padding-bottom":"5px","padding-top":"5px"}},[e("img",{attrs:{src:a("ngtW")}})]),this._v(" "),e("p",{staticClass:"cargo"},[this._v("CARGO DETAILS")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"L"},[e("p",{staticClass:"quo"},[this._v("QUOTATION NO.")]),this._v(" "),e("input",{staticClass:"input-class"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"L"},[e("p",{staticClass:"quo"},[this._v("POL:")]),this._v(" "),e("input",{staticClass:"input-class",attrs:{value:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"L"},[e("p",{staticClass:"quo"},[this._v("QUOTE DATE")]),this._v(" "),e("input",{staticClass:"input-class"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"L"},[e("p",{staticClass:"quo"},[this._v("PRINT DATE")]),this._v(" "),e("input",{staticClass:"input-class"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"L"},[e("p",{staticClass:"quo"},[this._v("TRANSIT TYPE")]),this._v(" "),e("input",{staticClass:"input-class",attrs:{value:"TRANSIT TYPE"}}),this._v(" "),e("p",{staticClass:"quo"},[this._v("FREIGHT TERM")]),this._v(" "),e("input",{staticClass:"input-class",attrs:{value:"TRANSIT TYPE"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"L"},[e("p",{staticClass:"quo"},[this._v("DOOR TO DOOR")]),this._v(" "),e("input",{staticClass:"input-class",attrs:{value:"DOOR TO DOOR"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"remark_part"},[e("span",[this._v("REMARK")])])}]};var G=a("VU/8")(z,M,!1,function(t){a("q1DL")},null,null).exports,U={name:"Login",data:function(){return{ruleForm:{name:"",password:"",loading:!1,loadingName:"登录"},rules:{name:[{required:!0,message:"账号不能为空",trigger:"blur"},{min:1,message:"最小为1个字符",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{min:6,message:"最小为6个字符",trigger:"blur"}]}}},methods:{submitForm:function(){var t=this.ruleForm.name||null,e=this.ruleForm.password||null;if(null==t&&null==e)this.$message({showClose:!0,message:"请输入账号或密码",type:"error"});else{this.ruleForm.loading=!0,this.ruleForm.loadingName="登陆中...";var a=this;d()({method:"POST",url:"https://baojia.widesight.cn/backend/public/api/login",data:{grant_type:"password",client_id:2,client_secret:"kHzde7WWlET33KQ75kQwp5NwqJejSj813PRadUhA",username:t,password:e}}).then(function(t){console.log(t),window.sessionStorage.setItem("access_token",t.data.access_token),a.ruleForm.loading=!1,a.ruleForm.loadingName="登陆",d()({method:"GET",headers:{Authorization:"Bearer "+t.data.access_token},url:"https://baojia.widesight.cn/backend/public/api/user"}).then(function(t){console.log(t),window.sessionStorage.setItem("id",t.data.id),a.$router.push("/body"),a.$message({message:"登录成功",type:"success"})})}).catch(function(t){a.ruleForm.loading=!1,a.ruleForm.loadingName="登陆",a.$message({showClose:!0,message:"账号或密码错误",type:"error"})})}},Register:function(){this.$router.push("/register")}}},j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("div",{staticClass:"login-item"},[t._m(0),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名:",prop:"name"}},[a("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码:",prop:"password"}},[a("el-input",{attrs:{type:"password"},model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}})],1),t._v(" "),a("div",{staticClass:"login-button"},[a("el-button",{attrs:{type:"primary",loading:t.ruleForm.loading},on:{click:function(e){return t.submitForm()}}},[t._v(t._s(t.ruleForm.loadingName))])],1)],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{staticClass:"login-logo",attrs:{src:a("ngtW"),alt:""}})])}]};var H=a("VU/8")(U,j,!1,function(t){a("cvdH")},"data-v-7b4d1d22",null).exports,B={name:"Body",data:function(){return{title:"COST RECORD ",seen:!0}},methods:{next:function(){var t=this,e=window.sessionStorage.getItem("access_token"),a=window.sessionStorage.getItem("id");d()({method:"DELETE",headers:{Authorization:"Bearer "+e},url:"https://baojia.widesight.cn/backend/public/api/login/"+a}).then(function(e){window.sessionStorage.clear(),console.log(e),t.$router.push("/login"),t.$message({message:e.data.info,type:"success"})})},handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)}}},Y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"body"},[s("el-container",[s("el-aside",[s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2",router:!0},on:{open:t.handleOpen,close:t.handleClose}},[s("h5",[s("el-menu-item",[s("img",{staticClass:"brand",attrs:{src:a("ngtW"),alt:""}})])],1),t._v(" "),t.seen?s("el-menu-item",{attrs:{index:"quote"}},[s("i",{staticClass:"el-icon-location"}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v(" 报价查询 ")])]):t._e(),t._v(" "),s("el-menu-item",{attrs:{index:"enquiry"}},[s("i",{staticClass:"el-icon-menu"}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v(" 门店成本查询 ")])]),t._v(" "),t.seen?s("el-menu-item",{attrs:{index:"create"}},[s("i",{staticClass:"el-icon-document"}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v(" 报价单制作 ")])]):t._e(),t._v(" "),t.seen?s("el-menu-item",{attrs:{index:"4"}},[s("i",{staticClass:"el-icon-setting"}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v("报价单号查询")])]):t._e(),t._v(" "),t.seen?s("el-menu-item",{on:{click:t.next}},[s("i",{staticClass:"el-icon-truck"}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v("退出登录")])]):t._e()],1)],1),t._v(" "),s("el-main",{staticClass:"home-content"},[s("router-view")],1)],1)],1)},staticRenderFns:[]};var V=a("VU/8")(B,Y,!1,function(t){a("irf2")},null,null).exports,W={name:"register",data:function(){var t=this;return{disabled:!1,ruleForm:{name:"",email:"",password:"",repassword:""},rules:{name:[{required:!0,message:"请输入账号",trigger:"blur"},{min:6,max:10,message:"长度在 6 到 10 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确得邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,10}$/,message:"您需要同时含有数字和字母，且长度要在6-10位之间",trigger:"blur"}],repassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:function(e,a,s){a!==t.ruleForm.password?s(new Error("两次输入密码不一致!")):s()},required:!0,message:"两次密码不一致",trigger:"blur"},{min:6,max:10,message:"长度在 6 到 10 个字符",trigger:"blur"}]}}},methods:{submitForm:function(t){var e=t.name||null,a=t.email||null,s=t.password||null,i=t.repassword||null,r=this;null==e&&null==a&&null==s&&null==i?this.disabled=!1:(this.disabled=!0,d()({method:"POST",url:"https://baojia.widesight.cn/backend/public/api/register ",data:{name:e,email:a,password:s,c_password:i}}).then(function(t){r.$router.push("/login"),r.$message({message:"注册成功",type:"success"})}).catch(function(t){r.$message({showClose:!0,message:"您的账号或邮箱貌似注册过了",type:"error"})}))},resetForm:function(){this.$router.push("/login")}}},Q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register"},[a("div",{staticClass:"register-item"},[t._m(0),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名:",prop:"name"}},[a("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"邮箱:",prop:"email"}},[a("el-input",{model:{value:t.ruleForm.email,callback:function(e){t.$set(t.ruleForm,"email",e)},expression:"ruleForm.email"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码:",prop:"password"}},[a("el-input",{attrs:{type:"password"},model:{value:t.ruleForm.password,callback:function(e){t.$set(t.ruleForm,"password",e)},expression:"ruleForm.password"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"确认密码:",prop:"repassword"}},[a("el-input",{attrs:{type:"password"},model:{value:t.ruleForm.repassword,callback:function(e){t.$set(t.ruleForm,"repassword",e)},expression:"ruleForm.repassword"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",disabled:t.disabled},on:{click:function(e){return t.submitForm(t.ruleForm)}}},[t._v("立即注册")]),t._v(" "),a("el-button",{on:{click:function(e){return t.resetForm()}}},[t._v("返回")])],1)],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{staticClass:"login-logo",attrs:{src:a("ngtW"),alt:""}})])}]};var J=a("VU/8")(W,Q,!1,function(t){a("WHlr")},null,null).exports;s.default.use(l.a);var K=new l.a({routes:[{path:"/",name:"body",component:V},{path:"/login",name:"Login",component:H},{path:"/register",name:"Register",component:J},{path:"/body",name:"Body",component:V,redirect:"/quote",children:[{path:"/enquiry",name:"enquiry",component:$},{path:"/enquirydetail",name:"enquirydetail",component:D},{path:"/enquiryList",name:"enquiryList",component:q},{path:"/quote",name:"quote",component:v},{path:"/create",name:"create",component:N},{path:"/quotelist",name:"quotelist",component:y},{path:"/print",name:"print",component:G}]}]});K.beforeEach(function(t,e,a){return"/login"===t.path?a():"/register"===t.path?a():window.sessionStorage.getItem("access_token")?void a():a("/login")});var Z=K,X={base_api_url:"https://2e49702aeb37.ngrok.io"},tt=a("VU/8")(X,null,!1,null,null,null).exports,et=a("zL8q"),at=a.n(et),st=(a("tvR6"),a("3h9r")),it={install:function(t,e){t.prototype.ExportSavePdf=function(t,e){var a=document.getElementById("pdfCentent");L()(a,{logging:!1}).then(function(a){for(var s=new st.a("p","mm","a4"),i=a.getContext("2d"),r=Math.floor(257*a.width/170),n=0;n<a.height;){var l=document.createElement("canvas");l.width=a.width,l.height=Math.min(r,a.height-n),l.getContext("2d").putImageData(i.getImageData(0,n,a.width,Math.min(r,a.height-n)),0,0),s.addImage(l.toDataURL("image/jpeg",1),"JPEG",10,10,170,Math.min(257,170*l.height/l.width)),(n+=r)<a.height&&s.addPage()}s.save(t+e),console.log(s.save(t+e))})}}};s.default.use(it),s.default.config.productionTip=!1,s.default.use(at.a),s.default.prototype.Common=tt,new s.default({el:"#app",router:Z,components:{App:n},template:"<App/>"})},WHlr:function(t,e){},cvdH:function(t,e){},irf2:function(t,e){},ngtW:function(t,e,a){t.exports=a.p+"static/img/best-logo.f048fa5.jpg"},o8xd:function(t,e){},q1DL:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.99411819593e74e69c25.js.map